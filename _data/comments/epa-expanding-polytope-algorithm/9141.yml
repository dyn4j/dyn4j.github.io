id: 9141
date: 2011-10-19 16:55:45 -0400
author: William
parent: epa-expanding-polytope-algorithm
avatar: http://0.gravatar.com/avatar/9abfec71f4798ded76d242c8df48067e?s=96&d=mm&r=g
message: "<p>No problem.  If you use core shapes, ie the shapes used to detect collision are smaller than the real shapes, then you can use the closest points from the GJK distance method.  I haven't researched the method enough to know for sure how to obtain the collision points from the closest points, but check out <a onclick=\"javascript:pageTracker._trackPageview('/outgoing/www.google.com/url?sa=t&amp;source=web&amp;cd=20&amp;ved=0CGAQFjAJOAo&amp;url=http%3A%2F%2Fbullet.googlecode.com%2Ffiles%2FGDC10_Coumans_Erwin_Contact.pdf&amp;rct=j&amp;q=gjk%20distance%2C%20depth&amp;ei=-NWeTpyCKeHa0QHQ_6GYCQ&amp;usg=AFQjCNHIBZSsheNUn88HQtK76H4DRZ1y_Q&amp;sig2=Xty28qzfgPrcPQzXHc8xIQ&amp;cad=rja');\"  href=\"http://www.google.com/url?sa=t&amp;source=web&amp;cd=20&amp;ved=0CGAQFjAJOAo&amp;url=http%3A%2F%2Fbullet.googlecode.com%2Ffiles%2FGDC10_Coumans_Erwin_Contact.pdf&amp;rct=j&amp;q=gjk%20distance%2C%20depth&amp;ei=-NWeTpyCKeHa0QHQ_6GYCQ&amp;usg=AFQjCNHIBZSsheNUn88HQtK76H4DRZ1y_Q&amp;sig2=Xty28qzfgPrcPQzXHc8xIQ&amp;cad=rja\" rel=\"nofollow\">this PDF</a> pages 40-44 it talks about using a collision margin and the GJK distance method to find the penetration depth and contacts.</p>\n<p>In addition, <a onclick=\"javascript:pageTracker._trackPageview('/outgoing/www.bulletphysics.org');\"  href=\"http://www.bulletphysics.org\" rel=\"nofollow\">Bullet</a> uses something called contact caching to get enough points for stable stacking as well.  As you can see in the PDF the distance method will typically give you just one contact point.  So Bullet stores the contact point, waits until the next iteration of the engine to get another point, and so on until it has enough points to solve the collision.  As new points are added, a reduction algorithm is used to only keep the points that are \"best,\" which is usually the deepest penetration points, or the points whose area is the largest, etc.</p>\n<p>In <a onclick=\"javascript:pageTracker._trackPageview('/outgoing/www.box2d.org/');\"  href=\"http://www.box2d.org/\" rel=\"nofollow\">Box2d</a> and <a href=\"http://www.dyn4j.org\" rel=\"nofollow\">dyn4j</a>, the contacts for each collision are found in one step instead of caching until enough points are available.  This is done by a feature clipping method that really requires its own post to explain well.</p>\n<p>William</p>"
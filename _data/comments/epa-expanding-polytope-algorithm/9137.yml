id: 9137
date: 2010-12-01 02:16:20 -0500
author: William
parent: epa-expanding-polytope-algorithm
avatar: http://0.gravatar.com/avatar/9abfec71f4798ded76d242c8df48067e?s=96&d=mm&r=g
message: "<p>Very good question.  It's possible that you may obtain the zero vector in 3D also.  I have not implemented the algorithm in 3D.  However, EPA should be basically the same, instead of using edge normals, you use face normals.  A face (which can be thought of as a plane) has two possible normals, one pointing outside of the shape, and one pointing inside.  Getting one or the other depends on the winding of the face vertices.</p>\n<p>You can attempt to solve the problem by forcing all faces to have the same winding (counter-clockwise to obtain the face normal pointing outside the shape) or you can save the normals with the shape itself with some reference to what face it is for.</p>\n<p>If I were you, I would implement EPA <strong>without</strong> worrying about the zero vector problem.  This only crops up when shapes are touching.  Once you get it working for the majority of the cases then you can try to fix the outliers.</p>\n<p>Another way to solve the problem is avoid using EPA for the \"small penetration\" cases.  This is briefly explained in the Augmenting section of the post (see figure 6).  This approach is probably much faster and more stable for 3D.</p>\n<p>William</p>"
id: 8954
date: 2014-04-23 18:48:49 -0400
author: Nik
parent: sat
avatar: http://2.gravatar.com/avatar/80b4e9b8ab77790d2ddc3704470426b9?s=96&d=mm&r=g
message: "<p>This is a great article! I'm doing a project for school on collision detection where we research some algorithm and analyze the runtime complexity and other metrics, and your article has helped a great deal in getting my own SAT algorithm up and running for a demo! However, I do have a slight problem that I'm hoping you can help me with.</p>\n<p>I know in one of the earlier comments there was mention of the \"winding\" of a shape, which I understand means the order in which the vertices of the shape are visited (either clockwise or counter-clockwise). I assume this means the vertices array has the vertices already initialized to be in the correct order, otherwise your getAxes() method would work. I've done the same thing for my code, but for some reason the normal of the edge vector switches between being the right normal and the left normal. </p>\n<p>Here's the example I'm using in my test case: I have a rectangle with vertices at top left (40,40), bottom left (40,50), bottom right (50,50), and top right (50,40). As you can see, these points are in counterclockwise order. I run this rectangle through the following code:</p>\n<pre>Vector2D[] retArray = new Vector2D[vertices.length];\nfor (int i=0; i<vertices.length; i++)\n{\n  Vector2D point1 = vertices[i];\n  Vector2D point2;\n  if (i+1 < vertices.length)\n    point2 = vertices[i+1];\n  else\n    point2 = vertices[0];\n  Vector2D edge = point1.subtract(point2);\n  retArray[i] = edge.rightNormal().normalize();\n}\nreturn retArray;\n</pre>\n<p>This works fine for the first iteration, but once I get to the second iteration, my edge appears to be pointed the wrong way. Expected Edge: (10,0), Actual Edge:(40,50) &#8211; (50,50) = (-10,0). Naturally this is causing me to grab the incorrectly facing normal. </p>\n<p>Did I just misunderstand how to initialize the vertices array? Or is there something else going on that I just don't see?</p>\n<p>Thanks for your help!</p>"
id: 9235
date: 2011-06-30 15:56:38 -0400
author: William
parent: prismatic-constraint
avatar: http://0.gravatar.com/avatar/9abfec71f4798ded76d242c8df48067e?s=96&d=mm&r=g
message: "<p>Dirk,</p>\n<p>I think I have made the changes correctly to the equations above in your comment and thanks for the feedback.</p>\n<p>As you describe here:</p>\n<blockquote><p>\nWhen you derive constraints do not start with the velocity constraint. Solving on the velocity level is a linearization oo the original problem since you now are solving in the tangent space of the original constraint. You also need the position constraint for stabilization (e.g Baumgarte or Post-Projection). The best advice I can give for constraints is the following recipe (which I know from the Shabana book, but which is very likely in the engineering community much longer) is.</p>\n<p>1) Write down the position constraint<br />\n2) Build time derivative<br />\n3) Identify Jacobian by inspection using dC/dt = J * v\n</p></blockquote>\n<p>This is exactly what I do in the <a href=\"http://www.dyn4j.org/2010/12/line-constraint/\" rel=\"nofollow\">Line Constraint</a> post (the full derivation is there).  You can also see that the derivation does include the RHS.  In my derivation I chose to fix n (I call it u) in body b's space (now that you point it out dt/dt might be confusing for people...).</p>\n<p>I'm still failing to see where my derivation went wrong.  Please check out the <a href=\"http://www.dyn4j.org/2010/12/line-constraint/\" rel=\"nofollow\">Line Constraint</a> post and let me know if I have missed something there.</p>\n<p>William</p>"
id: 200765
date: 2019-11-25 17:37:32 -0500
author: Wil Bennett
parent: gjk-gilbert-johnson-keerthi
avatar: http://1.gravatar.com/avatar/74426faa9c4735aa9ab8e9e6aa25753e?s=96&d=mm&r=g
message: "<p>Hello William,</p>\n<p>Similar to the discussion between you and Saad. I've implemented the<br />\n2 simplex case using only cross and perp.  I believe it's fewer<br />\ninstructions. Here is the psuedo-code (may need to copy/paste this into an editor, hard to get the formatting right here):</p>\n<p>// ............CCW................................CW<br />\n//==============================================================<br />\n//                                      .<br />\n// ....R6 |.....R2.....|..R1.............R6 |.....R2.....|..R1<br />\n// ...__ b  b __<br />\n// ................./ .............................../<br />\n// ............R5../............................R5../<br />\n// .......R4....../.R3.....................R3....../.R4<br />\n// ............../................................/<br />\n// ............./................................/<br />\n// .........../.a............................../.a.<br />\n// ........../..R7............................/..R7.<br />\n//<br />\n// cross2D: a.x * b.y - a.y * b.x<br />\n// a.cross2D(b): > 0 if a is to the right,  0 if origin to the right of ba.<br />\nacSide = ao.cross2D(ac); // > 0 if origin to the right of ac.</p>\n<p>// If origin is on the same side of both ba and ac then it is in<br />\n// R5. baSide * acSide can only return negative if the signs are<br />\n// different (origin is on opposite sides of both).</p>\n<p>if (!(baSide * acSide  0) // CCW - ac is to the right of ab.<br />\n....if (baSide > 0) { // R4 - origin to the right of ba.<br />\n........direction = ba.perpRight();<br />\n........Remove c<br />\n....else // R3 - origin to the right of ac.<br />\n........direction = ac.perpRight();<br />\n........Remove b<br />\nelse // CW<br />\n....if (baSide < 0) // R4 - origin to the left of ba.<br />\n........direction = ba.perpLeft();<br />\n........Remove c<br />\nelse // R3 - origin to the left of ac.<br />\n....direction = ac.perpLeft();<br />\n....Remove b</p>"
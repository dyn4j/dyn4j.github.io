id: 9072
date: 2013-12-11 02:36:52 -0500
author: Futurecoming
parent: gjk-gilbert-johnson-keerthi
avatar: http://2.gravatar.com/avatar/b514703dd3528c7bff8281a55397817d?s=96&d=mm&r=g
message: "<p>Dear William<br />\n    Here is the pseudo code I wrote, would you please help me to check it?</p>\n<pre>\npublic Point support (Shape shape1, Shape shape2, Vector d) {\n  Point p1 = shape1.getFathestPointInDirection(d);\n  Point p2 = shape2.getFartestPointInDirection(d.negative());\n  Point p3 = p1.subtract(p2);\n  return p3;\n}\n\nVector d = Simplex.add(support(A, B, d ));;\nd.negate();\nwhile (true) {\n  Simplex.add(support(A, B, d));\n  if (Simplex.getLast().dot(d)  0) {\n    Simplex.remove(b);\n    d.set(ABCPerp);\n  } \n  else if(ABDPerp.dot(AO) < 0) {\n    Simplex.remove(C);\n    d.set(ABDPerp);\n  }\n  else if(ADCPerp.dot(AO) < 0) {\n    Simplex.remove(b);\n    d.set(ADCPerp);\n  }\n  else if(BCDPerp.dot(BO) < 0) {\n    Simplex.remove(A);\n    d.set(ADCPerp);\n  ｝\n\n  ABPerp = TripleProduct(ac, ab, ab);\n  ACPerp = TripleProduct(ab, ac, ac);\n  ADPerp = TripleProduct(ab, ad, ad);\n  BCPerp = TripleProduct(bd, bc, bc);\n  BDPerp = TripleProduct(bc, bd, bd);\n  CDPerp = TripleProduct(-bc, cd, cd);\n\n  else if(ABPerp.dot(AO) < 0 ) {\n    Simplex.remove(C);\n    Simplex.remove(D);\n    d.set(ADCPerp);\n  ｝\n  else if(ACPerp.dot(AO) < 0 ) {\n    Simplex.remove(B);\n    Simplex.remove(D);\n    d.set(ABPerp);\n  ｝\n  else if(ADPerp.dot(AO) < 0 ) {\n    Simplex.remove(B);\n    Simplex.remove(C);\n    d.set(ADPerp);\n  ｝\n  else if(BCPerp.dot(BO) < 0 ) {\n    Simplex.remove(A);\n    Simplex.remove(D);\n    d.set(BCPerp);\n  ｝\n  else if(BDPerp.dot(BO) < 0 ) {\n    Simplex.remove(A);\n    Simplex.remove(X);\n    d.set(BDPerp);\n  ｝\n  else if(CDPerp.dot(CO) < 0 ) {\n    Simplex.remove(A);\n    Simplex.remove(B);\n    d.set(CDPerp);\n  ｝\n  else {\n    return true;\n  }\n} else if(Simplex.points.size() == 2)｛\n  b = Simplex.getB();\n  ab = b - a;\n  ABPerp = TripleProduct(ab, ao, ab);\n  d.set(ABPerp);\n  Simplex.add(support(A, B, d));\n  c = simplex.getC();\n  ac = c - a;\n  ABCPerp = CrossProduct(ab,ac);\n  d.set(ABCPerp);\n｝\nelse if (Simplex.points.size() == 3) {\n  c = simplex.getC();\n  ac = c - a;\n  ABCPerp = CrossProduct(ab,ac);\n  d.set(ABCPerp);\n}\n</pre>"
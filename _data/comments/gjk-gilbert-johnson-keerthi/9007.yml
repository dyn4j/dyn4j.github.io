id: 9007
date: 2011-07-13 12:47:09 -0400
author: William
parent: gjk-gilbert-johnson-keerthi
avatar: http://0.gravatar.com/avatar/9abfec71f4798ded76d242c8df48067e?s=96&d=mm&r=g
message: "<p>Thanks, it's always good to hear that it was of some use.</p>\n<p>I haven't implemented an integer version of the algorithm before, so I'll try my best.  Getting the zero vector as the new direction is a problem because the support method could return a point that's <strong>not</strong> on the edge of the Minkowski Difference.  This is because the getFarthestPointInDirection will always return the last vertex in the polygon for both polygons (because of the dot product).  Getting a point that is not on the edge of the Minkowski Difference causes the if on line 11 to be invalid.</p>\n<p>However, this is a case that is inherent in the algorithm, so its not necessarily a bug, we just need to handle the case by doing something else like using the normal.  For the line segment case you can use the right hand perpendicular vector.  Thankfully, the normals in the triangle case don't suffer from the this problem unless the triangle is very small because they use the other edges in the cross products instead of AO.</p>\n<p>I would suggest to always use the normal (or maybe even another arbitrary direction) instead of the zero vector.  This will ensure that the support method always returns a valid point for the if on line 11.</p>\n<p>William</p>"